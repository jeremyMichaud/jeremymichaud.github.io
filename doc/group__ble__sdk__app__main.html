<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluetooth Door Access Management System: main.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluetooth Door Access Management System
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main file of the project.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa92c3d2a8adf233eedc3bb45dfc1a182"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaa92c3d2a8adf233eedc3bb45dfc1a182">NRF_LOG_MODULE_NAME</a>&#160;&#160;&#160;&quot;APP&quot;</td></tr>
<tr class="separator:gaa92c3d2a8adf233eedc3bb45dfc1a182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0ad4bcfe8e9edf6794e9a796378978a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gac0ad4bcfe8e9edf6794e9a796378978a">IS_SRVC_CHANGED_CHARACT_PRESENT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gac0ad4bcfe8e9edf6794e9a796378978a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3264a84843ac9e202a283b107962b3b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga3264a84843ac9e202a283b107962b3b7">APP_FEATURE_NOT_SUPPORTED</a>&#160;&#160;&#160;BLE_GATT_STATUS_ATTERR_APP_BEGIN + 2</td></tr>
<tr class="separator:ga3264a84843ac9e202a283b107962b3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71aed7be14554d85f4fbc37179c61627"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga71aed7be14554d85f4fbc37179c61627">CENTRAL_LINK_COUNT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga71aed7be14554d85f4fbc37179c61627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga909663e0201540a060465649b594011b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga909663e0201540a060465649b594011b">PERIPHERAL_LINK_COUNT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga909663e0201540a060465649b594011b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f5a2c9450ebc584b4fe743c6b1a280b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga5f5a2c9450ebc584b4fe743c6b1a280b">DEVICE_NAME</a>&#160;&#160;&#160;&quot;Uninitialized Door&quot;</td></tr>
<tr class="separator:ga5f5a2c9450ebc584b4fe743c6b1a280b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a0e03a525fa95c6557cea5fe04f4b08"><td class="memItemLeft" align="right" valign="top"><a id="ga3a0e03a525fa95c6557cea5fe04f4b08"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DOOR_ID</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga3a0e03a525fa95c6557cea5fe04f4b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa2b8f5b105c3019df0cb346f472e803"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaaa2b8f5b105c3019df0cb346f472e803">MANUFACTURER_NAME</a>&#160;&#160;&#160;&quot;Terrettaz&quot;</td></tr>
<tr class="separator:gaaa2b8f5b105c3019df0cb346f472e803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadde0b932e57e128e4cd81c2dca47cfe3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gadde0b932e57e128e4cd81c2dca47cfe3">APP_ADV_INTERVAL</a>&#160;&#160;&#160;800</td></tr>
<tr class="separator:gadde0b932e57e128e4cd81c2dca47cfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf58371bad8e1be8e2323df60379ed2df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaf58371bad8e1be8e2323df60379ed2df">APP_ADV_TIMEOUT_IN_SECONDS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaf58371bad8e1be8e2323df60379ed2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bbff5bb0ca047b109e70a831f08e217"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga7bbff5bb0ca047b109e70a831f08e217">APP_TIMER_PRESCALER</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga7bbff5bb0ca047b109e70a831f08e217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga756f526e607f350705dc7a2e05027cf2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga756f526e607f350705dc7a2e05027cf2">APP_TIMER_OP_QUEUE_SIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ga756f526e607f350705dc7a2e05027cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95196d5d0f40cf195a6001955d6d98cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga95196d5d0f40cf195a6001955d6d98cf">MIN_CONN_INTERVAL</a>&#160;&#160;&#160;MSEC_TO_UNITS(200, UNIT_1_25_MS)</td></tr>
<tr class="separator:ga95196d5d0f40cf195a6001955d6d98cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d868ed8adb7d475b463fd8855907a18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga7d868ed8adb7d475b463fd8855907a18">MAX_CONN_INTERVAL</a>&#160;&#160;&#160;MSEC_TO_UNITS(1600, UNIT_1_25_MS)</td></tr>
<tr class="separator:ga7d868ed8adb7d475b463fd8855907a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c921a874ac37870fc1516ce66cd228a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga0c921a874ac37870fc1516ce66cd228a">SLAVE_LATENCY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga0c921a874ac37870fc1516ce66cd228a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga799412c2b531ca347e13611e6e7523b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga799412c2b531ca347e13611e6e7523b9">CONN_SUP_TIMEOUT</a>&#160;&#160;&#160;MSEC_TO_UNITS(4000, UNIT_10_MS)</td></tr>
<tr class="separator:ga799412c2b531ca347e13611e6e7523b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7204f7a367e8f1ac53ef62c4ad220efc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga7204f7a367e8f1ac53ef62c4ad220efc">FIRST_CONN_PARAMS_UPDATE_DELAY</a>&#160;&#160;&#160;APP_TIMER_TICKS(5000, <a class="el" href="group__ble__sdk__app__main.html#ga7bbff5bb0ca047b109e70a831f08e217">APP_TIMER_PRESCALER</a>)</td></tr>
<tr class="separator:ga7204f7a367e8f1ac53ef62c4ad220efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf85796ef07632ed27e0bce9509d9245"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gadf85796ef07632ed27e0bce9509d9245">NEXT_CONN_PARAMS_UPDATE_DELAY</a>&#160;&#160;&#160;APP_TIMER_TICKS(30000, <a class="el" href="group__ble__sdk__app__main.html#ga7bbff5bb0ca047b109e70a831f08e217">APP_TIMER_PRESCALER</a>)</td></tr>
<tr class="separator:gadf85796ef07632ed27e0bce9509d9245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34db81384bfbef23dedbef9bc6dfe46c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga34db81384bfbef23dedbef9bc6dfe46c">MAX_CONN_PARAMS_UPDATE_COUNT</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga34db81384bfbef23dedbef9bc6dfe46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbf03a82593c273743a5a80a1119b851"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gacbf03a82593c273743a5a80a1119b851">SEC_PARAM_BOND</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gacbf03a82593c273743a5a80a1119b851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6831ebe113f8afe970326b7742b5947"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gab6831ebe113f8afe970326b7742b5947">SEC_PARAM_MITM</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gab6831ebe113f8afe970326b7742b5947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74292c6a4761b79784dda8176e741ad2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga74292c6a4761b79784dda8176e741ad2">SEC_PARAM_LESC</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga74292c6a4761b79784dda8176e741ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga240dd754f3049b2ab51762ebaec200a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga240dd754f3049b2ab51762ebaec200a6">SEC_PARAM_KEYPRESS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga240dd754f3049b2ab51762ebaec200a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42df85b3a4083cdc614d9111d580d98f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga42df85b3a4083cdc614d9111d580d98f">SEC_PARAM_IO_CAPABILITIES</a>&#160;&#160;&#160;BLE_GAP_IO_CAPS_NONE</td></tr>
<tr class="separator:ga42df85b3a4083cdc614d9111d580d98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee13a0d0077f423fa0edd74e17fb6b88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaee13a0d0077f423fa0edd74e17fb6b88">SEC_PARAM_OOB</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaee13a0d0077f423fa0edd74e17fb6b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b7b2e2f67fbf790f55b46f8f5e24ad5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga6b7b2e2f67fbf790f55b46f8f5e24ad5">SEC_PARAM_MIN_KEY_SIZE</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:ga6b7b2e2f67fbf790f55b46f8f5e24ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2cd1595de153ea1d6d843619a1a7707"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaf2cd1595de153ea1d6d843619a1a7707">SEC_PARAM_MAX_KEY_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:gaf2cd1595de153ea1d6d843619a1a7707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf17622a9d50e35a2aa9925366337c722"><td class="memItemLeft" align="right" valign="top"><a id="gaf17622a9d50e35a2aa9925366337c722"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIMER_DELAY</b>&#160;&#160;&#160;5000</td></tr>
<tr class="separator:gaf17622a9d50e35a2aa9925366337c722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a42d2d5bc11ba49000e048131c96f39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga9a42d2d5bc11ba49000e048131c96f39">DEAD_BEEF</a>&#160;&#160;&#160;0xDEADBEEF</td></tr>
<tr class="separator:ga9a42d2d5bc11ba49000e048131c96f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0525a44a3fa68974ee7495e7f5b64fc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga0525a44a3fa68974ee7495e7f5b64fc4">LEDBUTTON_LED_PIN</a>&#160;&#160;&#160;BSP_BOARD_LED_0</td></tr>
<tr class="separator:ga0525a44a3fa68974ee7495e7f5b64fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42054571f0c86ca63d63f7df55587145"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga42054571f0c86ca63d63f7df55587145">DEBUG_LEDS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga42054571f0c86ca63d63f7df55587145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74322fc4370a5f20db54119104726424"><td class="memItemLeft" align="right" valign="top"><a id="ga74322fc4370a5f20db54119104726424"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADVERTISING</b>&#160;&#160;&#160;BSP_INDICATE_IDLE</td></tr>
<tr class="separator:ga74322fc4370a5f20db54119104726424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85cac23f5a00325ebcde372df3466a0b"><td class="memItemLeft" align="right" valign="top"><a id="ga85cac23f5a00325ebcde372df3466a0b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADVERTISING_SLOW</b>&#160;&#160;&#160;BSP_INDICATE_IDLE</td></tr>
<tr class="separator:ga85cac23f5a00325ebcde372df3466a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6202935c026af12978d46a765dafb90"><td class="memItemLeft" align="right" valign="top"><a id="gaf6202935c026af12978d46a765dafb90"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONNECTED</b>&#160;&#160;&#160;BSP_INDICATE_IDLE</td></tr>
<tr class="separator:gaf6202935c026af12978d46a765dafb90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9925fc8bced4b7e3a0592f0be3a325b"><td class="memItemLeft" align="right" valign="top"><a id="gae9925fc8bced4b7e3a0592f0be3a325b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USE_BSP_INIT_LED</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gae9925fc8bced4b7e3a0592f0be3a325b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacd4ef04ce0d3f5a7f6fe1c38df617051"><td class="memItemLeft" align="right" valign="top"><a id="gacd4ef04ce0d3f5a7f6fe1c38df617051"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>APP_TIMER_DEF</b> (m_door_close_timeout_timer_id)</td></tr>
<tr class="separator:gacd4ef04ce0d3f5a7f6fe1c38df617051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae08f6c12e2ca0aab0f4395411b064fbb"><td class="memItemLeft" align="right" valign="top"><a id="gae08f6c12e2ca0aab0f4395411b064fbb"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gae08f6c12e2ca0aab0f4395411b064fbb">advertising_start</a> ()</td></tr>
<tr class="memdesc:gae08f6c12e2ca0aab0f4395411b064fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for starting advertising. <br /></td></tr>
<tr class="separator:gae08f6c12e2ca0aab0f4395411b064fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4df3b6dd09cac7a9c1705e80fcb735cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga4df3b6dd09cac7a9c1705e80fcb735cb">assert_nrf_callback</a> (uint16_t line_num, const uint8_t *p_file_name)</td></tr>
<tr class="memdesc:ga4df3b6dd09cac7a9c1705e80fcb735cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for asserts in the SoftDevice.  <a href="#ga4df3b6dd09cac7a9c1705e80fcb735cb">More...</a><br /></td></tr>
<tr class="separator:ga4df3b6dd09cac7a9c1705e80fcb735cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c9f0175aa84cc281ec9ec17a549e68c"><td class="memItemLeft" align="right" valign="top"><a id="ga6c9f0175aa84cc281ec9ec17a549e68c"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga6c9f0175aa84cc281ec9ec17a549e68c">fds_evt_handler</a> (fds_evt_t const *const p_fds_evt)</td></tr>
<tr class="memdesc:ga6c9f0175aa84cc281ec9ec17a549e68c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple event handler to handle errors during initialization. <br /></td></tr>
<tr class="separator:ga6c9f0175aa84cc281ec9ec17a549e68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4ab52d12033d37e81f47bd9e7f2a724"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gab4ab52d12033d37e81f47bd9e7f2a724">door_open</a> ()</td></tr>
<tr class="memdesc:gab4ab52d12033d37e81f47bd9e7f2a724"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to open the door.  <a href="#gab4ab52d12033d37e81f47bd9e7f2a724">More...</a><br /></td></tr>
<tr class="separator:gab4ab52d12033d37e81f47bd9e7f2a724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d7c0b9bfadfcd49fbefeaa55c6e7012"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga3d7c0b9bfadfcd49fbefeaa55c6e7012">pm_evt_handler</a> (pm_evt_t const *p_evt)</td></tr>
<tr class="memdesc:ga3d7c0b9bfadfcd49fbefeaa55c6e7012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling Peer Manager events.  <a href="#ga3d7c0b9bfadfcd49fbefeaa55c6e7012">More...</a><br /></td></tr>
<tr class="separator:ga3d7c0b9bfadfcd49fbefeaa55c6e7012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04eb723bc71099c506b580a3e2dcefeb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga04eb723bc71099c506b580a3e2dcefeb">timer_timeout_handler</a> (void *p_context)</td></tr>
<tr class="memdesc:ga04eb723bc71099c506b580a3e2dcefeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function called when the timer expires. It will close the door.  <a href="#ga04eb723bc71099c506b580a3e2dcefeb">More...</a><br /></td></tr>
<tr class="separator:ga04eb723bc71099c506b580a3e2dcefeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga973ac47e5f742d7b7d3677850c7a252f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga973ac47e5f742d7b7d3677850c7a252f">timers_init</a> ()</td></tr>
<tr class="memdesc:ga973ac47e5f742d7b7d3677850c7a252f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the Timer initialization.  <a href="#ga973ac47e5f742d7b7d3677850c7a252f">More...</a><br /></td></tr>
<tr class="separator:ga973ac47e5f742d7b7d3677850c7a252f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95da71753c4337dfc1b3dc90dcddcc66"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga95da71753c4337dfc1b3dc90dcddcc66">gap_params_init</a> ()</td></tr>
<tr class="memdesc:ga95da71753c4337dfc1b3dc90dcddcc66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the GAP initialization.  <a href="#ga95da71753c4337dfc1b3dc90dcddcc66">More...</a><br /></td></tr>
<tr class="separator:ga95da71753c4337dfc1b3dc90dcddcc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff874098d94fa4a9164b4e1f54ce6ae8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaff874098d94fa4a9164b4e1f54ce6ae8">open_write_handler</a> (<a class="el" href="structble__ds__s.html">ble_ds_t</a> *p_ds, uint8_t *input)</td></tr>
<tr class="memdesc:gaff874098d94fa4a9164b4e1f54ce6ae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling write events to the Open characteristic.  <a href="#gaff874098d94fa4a9164b4e1f54ce6ae8">More...</a><br /></td></tr>
<tr class="separator:gaff874098d94fa4a9164b4e1f54ce6ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf2af392c163e4a0f57c8ce7a485a282"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gabf2af392c163e4a0f57c8ce7a485a282">id_write_handler</a> (<a class="el" href="structble__adm__s.html">ble_adm_t</a> *p_adm, uint8_t *door_id_input)</td></tr>
<tr class="memdesc:gabf2af392c163e4a0f57c8ce7a485a282"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling write events to the Id characteristic.  <a href="#gabf2af392c163e4a0f57c8ce7a485a282">More...</a><br /></td></tr>
<tr class="separator:gabf2af392c163e4a0f57c8ce7a485a282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga391b46aeae9a2b1c7175e6e203136599"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga391b46aeae9a2b1c7175e6e203136599">name_write_handler</a> (<a class="el" href="structble__adm__s.html">ble_adm_t</a> *p_adm, uint8_t *name_input, uint8_t size)</td></tr>
<tr class="memdesc:ga391b46aeae9a2b1c7175e6e203136599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling write events to the Name characteristic.  <a href="#ga391b46aeae9a2b1c7175e6e203136599">More...</a><br /></td></tr>
<tr class="separator:ga391b46aeae9a2b1c7175e6e203136599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e199aa501f6c3ac8961735eb4bcce3c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga2e199aa501f6c3ac8961735eb4bcce3c">timestamp_write_handler</a> (<a class="el" href="structble__adm__s.html">ble_adm_t</a> *p_adm, uint8_t *timestamp)</td></tr>
<tr class="memdesc:ga2e199aa501f6c3ac8961735eb4bcce3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling write events to the Timestamp characteristic.  <a href="#ga2e199aa501f6c3ac8961735eb4bcce3c">More...</a><br /></td></tr>
<tr class="separator:ga2e199aa501f6c3ac8961735eb4bcce3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga933690edfa6e34fbc354860c2741412b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga933690edfa6e34fbc354860c2741412b">encrypt_key_write_handler</a> (<a class="el" href="structble__adm__s.html">ble_adm_t</a> *p_adm, uint8_t *encrypt_key_input)</td></tr>
<tr class="memdesc:ga933690edfa6e34fbc354860c2741412b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling (1) log in and (2) write events to the Encrytion Key characteristic.  <a href="#ga933690edfa6e34fbc354860c2741412b">More...</a><br /></td></tr>
<tr class="separator:ga933690edfa6e34fbc354860c2741412b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b27b40e18af00d43b92f57eaed0e9b2"><td class="memItemLeft" align="right" valign="top"><a id="ga5b27b40e18af00d43b92f57eaed0e9b2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga5b27b40e18af00d43b92f57eaed0e9b2">services_init</a> (void)</td></tr>
<tr class="memdesc:ga5b27b40e18af00d43b92f57eaed0e9b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing services that will be used by the application. <br /></td></tr>
<tr class="separator:ga5b27b40e18af00d43b92f57eaed0e9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3518a4402961dbde9a52c7de6211ad7a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga3518a4402961dbde9a52c7de6211ad7a">on_conn_params_evt</a> (ble_conn_params_evt_t *p_evt)</td></tr>
<tr class="memdesc:ga3518a4402961dbde9a52c7de6211ad7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling the Connection Parameters Module.  <a href="#ga3518a4402961dbde9a52c7de6211ad7a">More...</a><br /></td></tr>
<tr class="separator:ga3518a4402961dbde9a52c7de6211ad7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4538ed130db3bf7fc68b76a4d9e032fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga4538ed130db3bf7fc68b76a4d9e032fa">conn_params_error_handler</a> (uint32_t nrf_error)</td></tr>
<tr class="memdesc:ga4538ed130db3bf7fc68b76a4d9e032fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling a Connection Parameters error.  <a href="#ga4538ed130db3bf7fc68b76a4d9e032fa">More...</a><br /></td></tr>
<tr class="separator:ga4538ed130db3bf7fc68b76a4d9e032fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf61b6c1c47f5c96b169ff81c345d7849"><td class="memItemLeft" align="right" valign="top"><a id="gaf61b6c1c47f5c96b169ff81c345d7849"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaf61b6c1c47f5c96b169ff81c345d7849">conn_params_init</a> (void)</td></tr>
<tr class="memdesc:gaf61b6c1c47f5c96b169ff81c345d7849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the Connection Parameters module. <br /></td></tr>
<tr class="separator:gaf61b6c1c47f5c96b169ff81c345d7849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeef2fa30432e537d5591f26f753ad46e"><td class="memItemLeft" align="right" valign="top"><a id="gaeef2fa30432e537d5591f26f753ad46e"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaeef2fa30432e537d5591f26f753ad46e">application_timers_start</a> ()</td></tr>
<tr class="memdesc:gaeef2fa30432e537d5591f26f753ad46e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for starting timers (not used, but kept just in case). <br /></td></tr>
<tr class="separator:gaeef2fa30432e537d5591f26f753ad46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc21b53ebfc6ba20dbdf6aadcd8eb345"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gabc21b53ebfc6ba20dbdf6aadcd8eb345">sleep_mode_enter</a> (void)</td></tr>
<tr class="memdesc:gabc21b53ebfc6ba20dbdf6aadcd8eb345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for putting the chip into sleep mode (not used).  <a href="#gabc21b53ebfc6ba20dbdf6aadcd8eb345">More...</a><br /></td></tr>
<tr class="separator:gabc21b53ebfc6ba20dbdf6aadcd8eb345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga438975f6ac624c8570220ab1c842ba1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga438975f6ac624c8570220ab1c842ba1e">on_adv_evt</a> (ble_adv_evt_t ble_adv_evt)</td></tr>
<tr class="memdesc:ga438975f6ac624c8570220ab1c842ba1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling advertising events.  <a href="#ga438975f6ac624c8570220ab1c842ba1e">More...</a><br /></td></tr>
<tr class="separator:ga438975f6ac624c8570220ab1c842ba1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad083cb3569230d7ecbf2d01ef2a2c1d9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gad083cb3569230d7ecbf2d01ef2a2c1d9">on_ble_evt</a> (ble_evt_t *p_ble_evt)</td></tr>
<tr class="memdesc:gad083cb3569230d7ecbf2d01ef2a2c1d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling the Application's BLE Stack events.  <a href="#gad083cb3569230d7ecbf2d01ef2a2c1d9">More...</a><br /></td></tr>
<tr class="separator:gad083cb3569230d7ecbf2d01ef2a2c1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b08d6ccb6e7f4588d2ac843d4494c0e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga2b08d6ccb6e7f4588d2ac843d4494c0e">ble_evt_dispatch</a> (ble_evt_t *p_ble_evt)</td></tr>
<tr class="memdesc:ga2b08d6ccb6e7f4588d2ac843d4494c0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for dispatching a BLE stack event to all modules with a BLE stack event handler.  <a href="#ga2b08d6ccb6e7f4588d2ac843d4494c0e">More...</a><br /></td></tr>
<tr class="separator:ga2b08d6ccb6e7f4588d2ac843d4494c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccdabee528c7e9f48c7bdfb8087bbc3a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaccdabee528c7e9f48c7bdfb8087bbc3a">sys_evt_dispatch</a> (uint32_t sys_evt)</td></tr>
<tr class="memdesc:gaccdabee528c7e9f48c7bdfb8087bbc3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for dispatching a system event to interested modules.  <a href="#gaccdabee528c7e9f48c7bdfb8087bbc3a">More...</a><br /></td></tr>
<tr class="separator:gaccdabee528c7e9f48c7bdfb8087bbc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa06a7a39e83ec4cf3553f4ed6ba6323a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaa06a7a39e83ec4cf3553f4ed6ba6323a">ble_stack_init</a> (void)</td></tr>
<tr class="memdesc:gaa06a7a39e83ec4cf3553f4ed6ba6323a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the BLE stack.  <a href="#gaa06a7a39e83ec4cf3553f4ed6ba6323a">More...</a><br /></td></tr>
<tr class="separator:gaa06a7a39e83ec4cf3553f4ed6ba6323a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78c1cdec2053cce76a9949ae74a04485"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga78c1cdec2053cce76a9949ae74a04485">peer_manager_init</a> (bool erase_bonds)</td></tr>
<tr class="memdesc:ga78c1cdec2053cce76a9949ae74a04485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the Peer Manager initialization.  <a href="#ga78c1cdec2053cce76a9949ae74a04485">More...</a><br /></td></tr>
<tr class="separator:ga78c1cdec2053cce76a9949ae74a04485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeaeef1147c8af8d4c0a3543a90319031"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaeaeef1147c8af8d4c0a3543a90319031">reset_parameters</a> ()</td></tr>
<tr class="memdesc:gaeaeef1147c8af8d4c0a3543a90319031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to reset paramters.  <a href="#gaeaeef1147c8af8d4c0a3543a90319031">More...</a><br /></td></tr>
<tr class="separator:gaeaeef1147c8af8d4c0a3543a90319031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96c8e5d5eca9c60822e8cdb5b48e6389"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga96c8e5d5eca9c60822e8cdb5b48e6389">bsp_event_handler</a> (bsp_event_t event)</td></tr>
<tr class="memdesc:ga96c8e5d5eca9c60822e8cdb5b48e6389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling events from the BSP module.  <a href="#ga96c8e5d5eca9c60822e8cdb5b48e6389">More...</a><br /></td></tr>
<tr class="separator:ga96c8e5d5eca9c60822e8cdb5b48e6389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga935c9624de0709fe228dbefa4b54de48"><td class="memItemLeft" align="right" valign="top"><a id="ga935c9624de0709fe228dbefa4b54de48"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga935c9624de0709fe228dbefa4b54de48">advertising_init</a> (void)</td></tr>
<tr class="memdesc:ga935c9624de0709fe228dbefa4b54de48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the Advertising functionality. <br /></td></tr>
<tr class="separator:ga935c9624de0709fe228dbefa4b54de48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada967b353ba42e8061e8fdb343bf74e7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gada967b353ba42e8061e8fdb343bf74e7">buttons_leds_init</a> (bool *p_erase_bonds)</td></tr>
<tr class="memdesc:gada967b353ba42e8061e8fdb343bf74e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing buttons and leds.  <a href="#gada967b353ba42e8061e8fdb343bf74e7">More...</a><br /></td></tr>
<tr class="separator:gada967b353ba42e8061e8fdb343bf74e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac331bcff2824a947f772136a2d93b991"><td class="memItemLeft" align="right" valign="top"><a id="gac331bcff2824a947f772136a2d93b991"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gac331bcff2824a947f772136a2d93b991">power_manage</a> ()</td></tr>
<tr class="memdesc:gac331bcff2824a947f772136a2d93b991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the Power manager. <br /></td></tr>
<tr class="separator:gac331bcff2824a947f772136a2d93b991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab241c6ceaf096a7f3f6e22c2b02269dc"><td class="memItemLeft" align="right" valign="top">static ret_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gab241c6ceaf096a7f3f6e22c2b02269dc">read_files</a> ()</td></tr>
<tr class="memdesc:gab241c6ceaf096a7f3f6e22c2b02269dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function read the files for config parameters.  <a href="#gab241c6ceaf096a7f3f6e22c2b02269dc">More...</a><br /></td></tr>
<tr class="separator:gab241c6ceaf096a7f3f6e22c2b02269dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top"><a id="gae66f6b31b5ad750f1fe042a706a4e3d4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:gae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for application main entry. <br /></td></tr>
<tr class="separator:gae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf8ec4e3b97f9da177361adcf27de4b9a"><td class="memItemLeft" align="right" valign="top">soc_ecb_key_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaf8ec4e3b97f9da177361adcf27de4b9a">key</a> = { }</td></tr>
<tr class="separator:gaf8ec4e3b97f9da177361adcf27de4b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97347d14c5c0ebf675d5901742614c22"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga97347d14c5c0ebf675d5901742614c22">device_name</a> [MAX_DEVICE_NAME_SIZE+1] = <a class="el" href="group__ble__sdk__app__main.html#ga5f5a2c9450ebc584b4fe743c6b1a280b">DEVICE_NAME</a></td></tr>
<tr class="separator:ga97347d14c5c0ebf675d5901742614c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4f4feeb645d37f3cf42730a544b6cf6"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gaf4f4feeb645d37f3cf42730a544b6cf6">door_id</a> = DOOR_ID</td></tr>
<tr class="separator:gaf4f4feeb645d37f3cf42730a544b6cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga314165fd9ea394f9c678519294fa4ee7"><td class="memItemLeft" align="right" valign="top">ble_advdata_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga314165fd9ea394f9c678519294fa4ee7">m_advdata</a></td></tr>
<tr class="separator:ga314165fd9ea394f9c678519294fa4ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade160ca745bd047c50bd978a3546b708"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gade160ca745bd047c50bd978a3546b708">mutex</a> = false</td></tr>
<tr class="separator:gade160ca745bd047c50bd978a3546b708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga097d72068866afd5d52cb48e57475100"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga097d72068866afd5d52cb48e57475100">write_tag</a> = false</td></tr>
<tr class="separator:ga097d72068866afd5d52cb48e57475100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06f5b5a015258c75f32a048daf0ed3a6"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga06f5b5a015258c75f32a048daf0ed3a6">logged_in</a> = false</td></tr>
<tr class="separator:ga06f5b5a015258c75f32a048daf0ed3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07ee43d70915ea4e112b7d303258840d"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga07ee43d70915ea4e112b7d303258840d">m_conn_handle</a> = BLE_CONN_HANDLE_INVALID</td></tr>
<tr class="separator:ga07ee43d70915ea4e112b7d303258840d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb81e92dc221b36e8cbe0286bcb466de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structble__ds__s.html">ble_ds_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gafb81e92dc221b36e8cbe0286bcb466de">m_door_service</a></td></tr>
<tr class="separator:gafb81e92dc221b36e8cbe0286bcb466de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab84760788cacd27550c440619b7de0b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structble__adm__s.html">ble_adm_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#gab84760788cacd27550c440619b7de0b6">m_admin_service</a></td></tr>
<tr class="separator:gab84760788cacd27550c440619b7de0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d6bfe1247e91c75571ed1eddb685032"><td class="memItemLeft" align="right" valign="top">static ble_uuid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__app__main.html#ga7d6bfe1247e91c75571ed1eddb685032">m_adv_uuids</a> [] = { { BLE_UUID_DOOR_SERVICE, BLE_UUID_TYPE_VENDOR_BEGIN } }</td></tr>
<tr class="separator:ga7d6bfe1247e91c75571ed1eddb685032"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Main file of the project. </p>
<p>This file is based on the ble_app_template main file. It will use the other file to open the door with bluetooth or NFC when a device has been successfully authenticated. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gadde0b932e57e128e4cd81c2dca47cfe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadde0b932e57e128e4cd81c2dca47cfe3">&#9670;&nbsp;</a></span>APP_ADV_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_ADV_INTERVAL&#160;&#160;&#160;800</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The advertising interval (in units of 0.625 ms. This value corresponds to 500 ms). </p>

</div>
</div>
<a id="gaf58371bad8e1be8e2323df60379ed2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf58371bad8e1be8e2323df60379ed2df">&#9670;&nbsp;</a></span>APP_ADV_TIMEOUT_IN_SECONDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_ADV_TIMEOUT_IN_SECONDS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The advertising timeout in units of seconds. 0 means advertising never stops. </p>

</div>
</div>
<a id="ga3264a84843ac9e202a283b107962b3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3264a84843ac9e202a283b107962b3b7">&#9670;&nbsp;</a></span>APP_FEATURE_NOT_SUPPORTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_FEATURE_NOT_SUPPORTED&#160;&#160;&#160;BLE_GATT_STATUS_ATTERR_APP_BEGIN + 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reply when unsupported features are requested. </p>

</div>
</div>
<a id="ga756f526e607f350705dc7a2e05027cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga756f526e607f350705dc7a2e05027cf2">&#9670;&nbsp;</a></span>APP_TIMER_OP_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_TIMER_OP_QUEUE_SIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of timer operation queues. </p>

</div>
</div>
<a id="ga7bbff5bb0ca047b109e70a831f08e217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bbff5bb0ca047b109e70a831f08e217">&#9670;&nbsp;</a></span>APP_TIMER_PRESCALER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_TIMER_PRESCALER&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value of the RTC1 PRESCALER register. </p>

</div>
</div>
<a id="ga71aed7be14554d85f4fbc37179c61627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71aed7be14554d85f4fbc37179c61627">&#9670;&nbsp;</a></span>CENTRAL_LINK_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CENTRAL_LINK_COUNT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of central links used by the application. When changing this number remember to adjust the RAM settings </p>

</div>
</div>
<a id="ga799412c2b531ca347e13611e6e7523b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga799412c2b531ca347e13611e6e7523b9">&#9670;&nbsp;</a></span>CONN_SUP_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONN_SUP_TIMEOUT&#160;&#160;&#160;MSEC_TO_UNITS(4000, UNIT_10_MS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connection supervisory timeout (4 seconds). </p>

</div>
</div>
<a id="ga9a42d2d5bc11ba49000e048131c96f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a42d2d5bc11ba49000e048131c96f39">&#9670;&nbsp;</a></span>DEAD_BEEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEAD_BEEF&#160;&#160;&#160;0xDEADBEEF</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value used as error code on stack dump, can be used to identify stack location on stack unwind. </p>

</div>
</div>
<a id="ga42054571f0c86ca63d63f7df55587145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42054571f0c86ca63d63f7df55587145">&#9670;&nbsp;</a></span>DEBUG_LEDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_LEDS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use leds as debug output or not </p>

</div>
</div>
<a id="ga5f5a2c9450ebc584b4fe743c6b1a280b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f5a2c9450ebc584b4fe743c6b1a280b">&#9670;&nbsp;</a></span>DEVICE_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_NAME&#160;&#160;&#160;&quot;Uninitialized Door&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name of device. Will be included in the advertising data. </p>

</div>
</div>
<a id="ga7204f7a367e8f1ac53ef62c4ad220efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7204f7a367e8f1ac53ef62c4ad220efc">&#9670;&nbsp;</a></span>FIRST_CONN_PARAMS_UPDATE_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRST_CONN_PARAMS_UPDATE_DELAY&#160;&#160;&#160;APP_TIMER_TICKS(5000, <a class="el" href="group__ble__sdk__app__main.html#ga7bbff5bb0ca047b109e70a831f08e217">APP_TIMER_PRESCALER</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time from initiating event (connect or start of notification) to first time sd_ble_gap_conn_param_update is called (5 seconds). </p>

</div>
</div>
<a id="gac0ad4bcfe8e9edf6794e9a796378978a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0ad4bcfe8e9edf6794e9a796378978a">&#9670;&nbsp;</a></span>IS_SRVC_CHANGED_CHARACT_PRESENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_SRVC_CHANGED_CHARACT_PRESENT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Include or not the service_changed characteristic. if not enabled, the server's database cannot be changed for the lifetime of the device </p>

</div>
</div>
<a id="ga0525a44a3fa68974ee7495e7f5b64fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0525a44a3fa68974ee7495e7f5b64fc4">&#9670;&nbsp;</a></span>LEDBUTTON_LED_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDBUTTON_LED_PIN&#160;&#160;&#160;BSP_BOARD_LED_0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LED to be toggled if in debug state. </p>

</div>
</div>
<a id="gaaa2b8f5b105c3019df0cb346f472e803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa2b8f5b105c3019df0cb346f472e803">&#9670;&nbsp;</a></span>MANUFACTURER_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MANUFACTURER_NAME&#160;&#160;&#160;&quot;Terrettaz&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manufacturer. Will be passed to Device Information Service. </p>

</div>
</div>
<a id="ga7d868ed8adb7d475b463fd8855907a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d868ed8adb7d475b463fd8855907a18">&#9670;&nbsp;</a></span>MAX_CONN_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CONN_INTERVAL&#160;&#160;&#160;MSEC_TO_UNITS(1600, UNIT_1_25_MS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum acceptable connection interval (1.6 second). </p>

</div>
</div>
<a id="ga34db81384bfbef23dedbef9bc6dfe46c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34db81384bfbef23dedbef9bc6dfe46c">&#9670;&nbsp;</a></span>MAX_CONN_PARAMS_UPDATE_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CONN_PARAMS_UPDATE_COUNT&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of attempts before giving up the connection parameter negotiation. </p>

</div>
</div>
<a id="ga95196d5d0f40cf195a6001955d6d98cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95196d5d0f40cf195a6001955d6d98cf">&#9670;&nbsp;</a></span>MIN_CONN_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_CONN_INTERVAL&#160;&#160;&#160;MSEC_TO_UNITS(200, UNIT_1_25_MS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum acceptable connection interval (0.2 seconds). </p>

</div>
</div>
<a id="gadf85796ef07632ed27e0bce9509d9245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf85796ef07632ed27e0bce9509d9245">&#9670;&nbsp;</a></span>NEXT_CONN_PARAMS_UPDATE_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEXT_CONN_PARAMS_UPDATE_DELAY&#160;&#160;&#160;APP_TIMER_TICKS(30000, <a class="el" href="group__ble__sdk__app__main.html#ga7bbff5bb0ca047b109e70a831f08e217">APP_TIMER_PRESCALER</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time between each call to sd_ble_gap_conn_param_update after the first call (30 seconds). </p>

</div>
</div>
<a id="gaa92c3d2a8adf233eedc3bb45dfc1a182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa92c3d2a8adf233eedc3bb45dfc1a182">&#9670;&nbsp;</a></span>NRF_LOG_MODULE_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NRF_LOG_MODULE_NAME&#160;&#160;&#160;&quot;APP&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name for the logger module </p>

</div>
</div>
<a id="ga909663e0201540a060465649b594011b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga909663e0201540a060465649b594011b">&#9670;&nbsp;</a></span>PERIPHERAL_LINK_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PERIPHERAL_LINK_COUNT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of peripheral links used by the application. When changing this number remember to adjust the RAM settings </p>

</div>
</div>
<a id="gacbf03a82593c273743a5a80a1119b851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbf03a82593c273743a5a80a1119b851">&#9670;&nbsp;</a></span>SEC_PARAM_BOND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_BOND&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform bonding. </p>

</div>
</div>
<a id="ga42df85b3a4083cdc614d9111d580d98f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42df85b3a4083cdc614d9111d580d98f">&#9670;&nbsp;</a></span>SEC_PARAM_IO_CAPABILITIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_IO_CAPABILITIES&#160;&#160;&#160;BLE_GAP_IO_CAPS_NONE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No I/O capabilities. </p>

</div>
</div>
<a id="ga240dd754f3049b2ab51762ebaec200a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga240dd754f3049b2ab51762ebaec200a6">&#9670;&nbsp;</a></span>SEC_PARAM_KEYPRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_KEYPRESS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Keypress notifications not enabled. </p>

</div>
</div>
<a id="ga74292c6a4761b79784dda8176e741ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74292c6a4761b79784dda8176e741ad2">&#9670;&nbsp;</a></span>SEC_PARAM_LESC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_LESC&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LE Secure Connections not enabled. </p>

</div>
</div>
<a id="gaf2cd1595de153ea1d6d843619a1a7707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2cd1595de153ea1d6d843619a1a7707">&#9670;&nbsp;</a></span>SEC_PARAM_MAX_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_MAX_KEY_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum encryption key size. </p>

</div>
</div>
<a id="ga6b7b2e2f67fbf790f55b46f8f5e24ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b7b2e2f67fbf790f55b46f8f5e24ad5">&#9670;&nbsp;</a></span>SEC_PARAM_MIN_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_MIN_KEY_SIZE&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum encryption key size. </p>

</div>
</div>
<a id="gab6831ebe113f8afe970326b7742b5947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6831ebe113f8afe970326b7742b5947">&#9670;&nbsp;</a></span>SEC_PARAM_MITM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_MITM&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Man In The Middle protection not required. </p>

</div>
</div>
<a id="gaee13a0d0077f423fa0edd74e17fb6b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee13a0d0077f423fa0edd74e17fb6b88">&#9670;&nbsp;</a></span>SEC_PARAM_OOB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_PARAM_OOB&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Out Of Band data not available. </p>

</div>
</div>
<a id="ga0c921a874ac37870fc1516ce66cd228a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c921a874ac37870fc1516ce66cd228a">&#9670;&nbsp;</a></span>SLAVE_LATENCY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLAVE_LATENCY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Slave latency. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4df3b6dd09cac7a9c1705e80fcb735cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4df3b6dd09cac7a9c1705e80fcb735cb">&#9670;&nbsp;</a></span>assert_nrf_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void assert_nrf_callback </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>p_file_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for asserts in the SoftDevice. </p>
<p>This function will be called in case of an assert in the SoftDevice.</p>
<dl class="section warning"><dt>Warning</dt><dd>This handler is an example only and does not fit a final product. You need to analyze how your product is supposed to react in case of Assert. </dd>
<dd>
On assert from the SoftDevice, the system can only recover on reset.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">line_num</td><td>Line number of the failing ASSERT call. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>File name of the failing ASSERT call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2b08d6ccb6e7f4588d2ac843d4494c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b08d6ccb6e7f4588d2ac843d4494c0e">&#9670;&nbsp;</a></span>ble_evt_dispatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ble_evt_dispatch </td>
          <td>(</td>
          <td class="paramtype">ble_evt_t *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for dispatching a BLE stack event to all modules with a BLE stack event handler. </p>
<p>This function is called from the BLE Stack event interrupt handler after a BLE stack event has been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt</td><td>Bluetooth stack event. </td></tr>
  </table>
  </dd>
</dl>
<p>The Connection state module has to be fed BLE events in order to function correctly Remember to call ble_conn_state_on_ble_evt before calling any ble_conns_state_* functions. </p>

</div>
</div>
<a id="gaa06a7a39e83ec4cf3553f4ed6ba6323a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa06a7a39e83ec4cf3553f4ed6ba6323a">&#9670;&nbsp;</a></span>ble_stack_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ble_stack_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for initializing the BLE stack. </p>
<p>Initializes the SoftDevice and the BLE event interrupt. </p>

</div>
</div>
<a id="ga96c8e5d5eca9c60822e8cdb5b48e6389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96c8e5d5eca9c60822e8cdb5b48e6389">&#9670;&nbsp;</a></span>bsp_event_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bsp_event_handler </td>
          <td>(</td>
          <td class="paramtype">bsp_event_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling events from the BSP module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Event generated when button is pressed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gada967b353ba42e8061e8fdb343bf74e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada967b353ba42e8061e8fdb343bf74e7">&#9670;&nbsp;</a></span>buttons_leds_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buttons_leds_init </td>
          <td>(</td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>p_erase_bonds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for initializing buttons and leds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_erase_bonds</td><td>Will be true if the clear bonding button was pressed to wake the application up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4538ed130db3bf7fc68b76a4d9e032fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4538ed130db3bf7fc68b76a4d9e032fa">&#9670;&nbsp;</a></span>conn_params_error_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void conn_params_error_handler </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nrf_error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling a Connection Parameters error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nrf_error</td><td>Error code containing information about what went wrong. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab4ab52d12033d37e81f47bd9e7f2a724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4ab52d12033d37e81f47bd9e7f2a724">&#9670;&nbsp;</a></span>door_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void door_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to open the door. </p>
<p>Calls the function <a class="el" href="group__motor__pwm.html#ga011782f30c11ec9ef1959a64cf11aad2" title="Open the door. ">motor_open()</a> and set the timer to close the door.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__motor__pwm.html#ga011782f30c11ec9ef1959a64cf11aad2" title="Open the door. ">motor_open()</a> </dd></dl>

</div>
</div>
<a id="ga933690edfa6e34fbc354860c2741412b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga933690edfa6e34fbc354860c2741412b">&#9670;&nbsp;</a></span>encrypt_key_write_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void encrypt_key_write_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__adm__s.html">ble_adm_t</a> *&#160;</td>
          <td class="paramname"><em>p_adm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>encrypt_key_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling (1) log in and (2) write events to the Encrytion Key characteristic. </p>
<p>(1) While the password isn't correct (which is in fact the same as the enc key) this characteristic is used as a login characteristic and once the device is logged in (2) the characteristic become the write characteristic of the encryption key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_adm</td><td>Instance of Admin Service to which the write applies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">encrypt_key_input</td><td>1st time old password for login, 2nd time Written/desired new password and AES128 encryption key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga95da71753c4337dfc1b3dc90dcddcc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95da71753c4337dfc1b3dc90dcddcc66">&#9670;&nbsp;</a></span>gap_params_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gap_params_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for the GAP initialization. </p>
<p>This function sets up all the necessary GAP (Generic Access Profile) parameters of the device including the device name, appearance, and the preferred connection parameters. </p>

</div>
</div>
<a id="gabf2af392c163e4a0f57c8ce7a485a282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf2af392c163e4a0f57c8ce7a485a282">&#9670;&nbsp;</a></span>id_write_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void id_write_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__adm__s.html">ble_adm_t</a> *&#160;</td>
          <td class="paramname"><em>p_adm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>door_id_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling write events to the Id characteristic. </p>
<p>If user is logged in, changed the id of the door.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_adm</td><td>Instance of Admin Service to which the write applies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">door_id_input</td><td>Written/desired new id of the door. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga391b46aeae9a2b1c7175e6e203136599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga391b46aeae9a2b1c7175e6e203136599">&#9670;&nbsp;</a></span>name_write_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void name_write_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__adm__s.html">ble_adm_t</a> *&#160;</td>
          <td class="paramname"><em>p_adm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>name_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling write events to the Name characteristic. </p>
<p>If user is logged in, changed the name of the door.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_adm</td><td>Instance of Admin Service to which the write applies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name_input</td><td>Written/desired new name of the door. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size</td><td>Size of the name (equivalent to strlen) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga438975f6ac624c8570220ab1c842ba1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga438975f6ac624c8570220ab1c842ba1e">&#9670;&nbsp;</a></span>on_adv_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void on_adv_evt </td>
          <td>(</td>
          <td class="paramtype">ble_adv_evt_t&#160;</td>
          <td class="paramname"><em>ble_adv_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling advertising events. </p>
<p>This function will be called for advertising events which are passed to the application. When debug leds are enabled, it will change the led depending on the state of advertising. If not in debug leds state, the function will do nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ble_adv_evt</td><td>Advertising event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad083cb3569230d7ecbf2d01ef2a2c1d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad083cb3569230d7ecbf2d01ef2a2c1d9">&#9670;&nbsp;</a></span>on_ble_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void on_ble_evt </td>
          <td>(</td>
          <td class="paramtype">ble_evt_t *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling the Application's BLE Stack events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt</td><td>Bluetooth stack event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3518a4402961dbde9a52c7de6211ad7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3518a4402961dbde9a52c7de6211ad7a">&#9670;&nbsp;</a></span>on_conn_params_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void on_conn_params_evt </td>
          <td>(</td>
          <td class="paramtype">ble_conn_params_evt_t *&#160;</td>
          <td class="paramname"><em>p_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling the Connection Parameters Module. </p>
<p>This function will be called for all events in the Connection Parameters Module which are passed to the application. </p><dl class="section note"><dt>Note</dt><dd>All this function does is to disconnect. This could have been done by simply setting the disconnect_on_fail config parameter, but instead we use the event handler mechanism to demonstrate its use.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_evt</td><td>Event received from the Connection Parameters Module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaff874098d94fa4a9164b4e1f54ce6ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff874098d94fa4a9164b4e1f54ce6ae8">&#9670;&nbsp;</a></span>open_write_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void open_write_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ds__s.html">ble_ds_t</a> *&#160;</td>
          <td class="paramname"><em>p_ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling write events to the Open characteristic. </p>
<p>decrypt AES128 and read data. Open the door if everythingis okay.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ds</td><td>Instance of Door service to which the write applies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Input to check. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga78c1cdec2053cce76a9949ae74a04485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78c1cdec2053cce76a9949ae74a04485">&#9670;&nbsp;</a></span>peer_manager_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void peer_manager_init </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>erase_bonds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for the Peer Manager initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">erase_bonds</td><td>Indicates whether bonding information should be cleared from persistent storage during initialization of the Peer Manager. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3d7c0b9bfadfcd49fbefeaa55c6e7012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d7c0b9bfadfcd49fbefeaa55c6e7012">&#9670;&nbsp;</a></span>pm_evt_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pm_evt_handler </td>
          <td>(</td>
          <td class="paramtype">pm_evt_t const *&#160;</td>
          <td class="paramname"><em>p_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling Peer Manager events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_evt</td><td>Peer Manager event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab241c6ceaf096a7f3f6e22c2b02269dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab241c6ceaf096a7f3f6e22c2b02269dc">&#9670;&nbsp;</a></span>read_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ret_code_t read_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function read the files for config parameters. </p>
<p>Reads the encryption key, the device name and the door id and sets the corresponding variables values. </p>

</div>
</div>
<a id="gaeaeef1147c8af8d4c0a3543a90319031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeaeef1147c8af8d4c0a3543a90319031">&#9670;&nbsp;</a></span>reset_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reset_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to reset paramters. </p>
<p>Delete the config file and restore the value of the variables for all the setting excet time. It will remove the encryption key, the device name and the door id. </p>

</div>
</div>
<a id="gabc21b53ebfc6ba20dbdf6aadcd8eb345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc21b53ebfc6ba20dbdf6aadcd8eb345">&#9670;&nbsp;</a></span>sleep_mode_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sleep_mode_enter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for putting the chip into sleep mode (not used). </p>
<dl class="section note"><dt>Note</dt><dd>This function will not return. </dd></dl>

</div>
</div>
<a id="gaccdabee528c7e9f48c7bdfb8087bbc3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccdabee528c7e9f48c7bdfb8087bbc3a">&#9670;&nbsp;</a></span>sys_evt_dispatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sys_evt_dispatch </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sys_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for dispatching a system event to interested modules. </p>
<p>This function is called from the System event interrupt handler after a system event has been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_evt</td><td>System stack event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga04eb723bc71099c506b580a3e2dcefeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04eb723bc71099c506b580a3e2dcefeb">&#9670;&nbsp;</a></span>timer_timeout_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timer_timeout_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function called when the timer expires. It will close the door. </p>
<p>Calls the function <a class="el" href="group__motor__pwm.html#gae641ec14d620c0db0b94dbc9043a128c" title="Close the door. ">motor_close()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>parameter not used but required to fit app_timer_create()</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__motor__pwm.html#gae641ec14d620c0db0b94dbc9043a128c" title="Close the door. ">motor_close()</a> app_timer_create() </dd></dl>

</div>
</div>
<a id="ga973ac47e5f742d7b7d3677850c7a252f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga973ac47e5f742d7b7d3677850c7a252f">&#9670;&nbsp;</a></span>timers_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timers_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for the Timer initialization. </p>
<p>Initializes the timer module. This creates and starts application timers. </p>

</div>
</div>
<a id="ga2e199aa501f6c3ac8961735eb4bcce3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e199aa501f6c3ac8961735eb4bcce3c">&#9670;&nbsp;</a></span>timestamp_write_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timestamp_write_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__adm__s.html">ble_adm_t</a> *&#160;</td>
          <td class="paramname"><em>p_adm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling write events to the Timestamp characteristic. </p>
<p>If user is logged in, changed the id of the door.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_adm</td><td>Instance of Admin Service to which the write applies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Written/desired new time of the door. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga97347d14c5c0ebf675d5901742614c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97347d14c5c0ebf675d5901742614c22">&#9670;&nbsp;</a></span>device_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char device_name[MAX_DEVICE_NAME_SIZE+1] = <a class="el" href="group__ble__sdk__app__main.html#ga5f5a2c9450ebc584b4fe743c6b1a280b">DEVICE_NAME</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Static storage of the device name in RAM memory </p>

</div>
</div>
<a id="gaf4f4feeb645d37f3cf42730a544b6cf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4f4feeb645d37f3cf42730a544b6cf6">&#9670;&nbsp;</a></span>door_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t door_id = DOOR_ID</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Static storage of the id of the door in RAM memory </p>

</div>
</div>
<a id="gaf8ec4e3b97f9da177361adcf27de4b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8ec4e3b97f9da177361adcf27de4b9a">&#9670;&nbsp;</a></span>key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">soc_ecb_key_t key = { }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Static storage of the AES128 key in RAM memory </p>

</div>
</div>
<a id="ga06f5b5a015258c75f32a048daf0ed3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06f5b5a015258c75f32a048daf0ed3a6">&#9670;&nbsp;</a></span>logged_in</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool logged_in = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Keep state of the user for the admin service. When a device connect, logged is set to false. When it authetification, it becomes true and all the parameters can be changed. </p>

</div>
</div>
<a id="gab84760788cacd27550c440619b7de0b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab84760788cacd27550c440619b7de0b6">&#9670;&nbsp;</a></span>m_admin_service</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structble__adm__s.html">ble_adm_t</a> m_admin_service</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Admin service </p>

</div>
</div>
<a id="ga7d6bfe1247e91c75571ed1eddb685032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d6bfe1247e91c75571ed1eddb685032">&#9670;&nbsp;</a></span>m_adv_uuids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ble_uuid_t m_adv_uuids[] = { { BLE_UUID_DOOR_SERVICE, BLE_UUID_TYPE_VENDOR_BEGIN } }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Universally unique service identifiers. </p>

</div>
</div>
<a id="ga314165fd9ea394f9c678519294fa4ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga314165fd9ea394f9c678519294fa4ee7">&#9670;&nbsp;</a></span>m_advdata</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ble_advdata_t m_advdata</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use external advdata to update advertising when the device name is changed. It is required that this value is set to not static in the SDK. </p>

</div>
</div>
<a id="ga07ee43d70915ea4e112b7d303258840d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07ee43d70915ea4e112b7d303258840d">&#9670;&nbsp;</a></span>m_conn_handle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t m_conn_handle = BLE_CONN_HANDLE_INVALID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle of the current connection. </p>

</div>
</div>
<a id="gafb81e92dc221b36e8cbe0286bcb466de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb81e92dc221b36e8cbe0286bcb466de">&#9670;&nbsp;</a></span>m_door_service</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structble__ds__s.html">ble_ds_t</a> m_door_service</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Door service </p>

</div>
</div>
<a id="gade160ca745bd047c50bd978a3546b708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade160ca745bd047c50bd978a3546b708">&#9670;&nbsp;</a></span>mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool mutex = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mutex (it is used as a mutex) to tell the application to start the NFC authentification </p>

</div>
</div>
<a id="ga097d72068866afd5d52cb48e57475100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga097d72068866afd5d52cb48e57475100">&#9670;&nbsp;</a></span>write_tag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool write_tag = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not used anymore, when set to true with the mutex it tells the application to sign a tag instead of reading it </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
